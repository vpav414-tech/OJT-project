<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Memory Game</title>
<style>
  *{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:Arial,Helvetica,sans-serif}
body{
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  background:url(./neon.jpg) center/cover no-repeat;
  overflow:auto
}

/* key-help */
#key-help{
  position:fixed;
  top:12px;
  left:50%;
  transform:translateX(-50%) translateY(-8px);
  background:rgba(0,0,0,.78);
  color:#fff;
  padding:8px 12px;
  border-radius:8px;
  font-size:13px;
  text-align:center;
  opacity:0;
  pointer-events:none;
  z-index:9999;
  transition:opacity .28s,transform .28s;
  max-width:92%}
#key-help.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* container - Desktop default */
.container{
  position:relative;
  width:min(92%,420px);
  max-width:350px;
  border:6px solid #000;
  border-radius:18px;
  padding:4.5rem 2rem 5rem;
  background:rgba(255,255,255,0.02);
  box-shadow:0 20px 36px rgba(0,0,0,.25)}

/* left key button + right settings */
.key-btn,.settings{
  position:absolute;
  top:14px;
  width:48px;
  height:48px;
  border:3px solid #000;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  color:#fff}
.key-btn{
  left:14px;
  background: linear-gradient(45deg, #660e0e, #0c154b);
  font-size:18px;z-index:11}
.settings{right:14px;background:linear-gradient(45deg,#6d1313,transparent);font-size:22px;z-index:10}

/* heading & controls */
h1{
  text-align:center;
  margin-bottom:4.8rem;
  padding:14px 20px;
  border-radius:10px;
  background:linear-gradient(197deg,#130553,#5a1e1e);
  color:#d53030;
  font-weight:800;
  font-size:clamp(20px,4vw,32px)}
.controls{
  display:flex;
  flex-direction:column;
  gap:14px;
  align-items:center}
button,select{
  width:100%;
  max-width:250px;
  padding:12px 18px;
  border-radius:10px;
  border:3px solid #000;
  font-weight:800;
  cursor:pointer}
button{background:#000;color:#ff3333;font-size:16px}button:hover{background:#111}
select{background:linear-gradient(45deg,#18197b,transparent);font-size:14px;padding-right:40px}
  
</style>
</head>
<body>

<!-- key bindings help -->
<div id="key-help" role="status" aria-live="polite" aria-atomic="true">
  <strong>KEY BINDINGS</strong>
  <div>S → Open Settings • C → Close Settings</div>
  <div>D → Open Difficulty • ENTER → Start Game</div>
</div>

<div class="container">
  <button class="key-btn" aria-label="Show key bindings" onclick="showKeyHelp()">⌨</button>
  <button class="settings" onclick="openset();playClick()" aria-label="Settings">⚙</button>

  <div id="setting-popup">
    <div class="box">
      <h3>Settings</h3>
      <label><input id="ss" type="checkbox"> Sound</label>
      <label><input id="music-checkbox" type="checkbox"> Music</label>
      <button onclick="closeset();playClick()">CLOSE</button>
    </div>
  </div>

  <h1>Memory Game</h1>

  <div class="controls">
    <button onclick="changePage();playClick()">Start Game</button>
    <select id="difficulty" onchange="playClick()">
      <option value="">Select your difficulty</option>
      <option value="Easy">Easy</option>
      <option value="Medium">Medium</option>
      <option value="Hard">Hard</option>
    </select>
    <!-- ADDED: Error message div with exclamation icon and text -->
    <!-- MODIFIED: Changed warning triangle emoji to circled exclamation mark -->
    <div id="error-msg">
      <div class="icon">❗</div>
      <div class="text">Please select your difficulty</div>
    </div>
  </div>
</div>

<audio id="bg-music" loop><source src="./back.mp3" type="audio/mpeg"></audio>
<audio id="clickSound"><source src="./click.mp3" type="audio/mpeg"></audio>

<script>
  // change page
  function changePage(){
  playClick();
  setTimeout(()=> {
    const diff = document.getElementById('difficulty').value;
    if(!diff){ 
      const errorMsg = document.getElementById('error-msg');
      errorMsg.style.display = 'block';
      setTimeout(() => {
        errorMsg.style.display = 'none';
      }, 3000);
      return; 
    }
    if(diff==='Easy') location.href='test1.html';
    else if(diff==='Medium') location.href='test3.html';
    else if(diff==='Hard') location.href='test4.html';
  },350);
}

function openset(){ document.getElementById('setting-popup').style.display='flex'; }
function closeset(){ document.getElementById('setting-popup').style.display='none'; }

const music = document.getElementById('bg-music');
const musicCheckbox = document.getElementById('music-checkbox');
musicCheckbox.addEventListener('change', ()=> musicCheckbox.checked ? music.play().catch(()=>{}) : music.pause());

const clickSound = document.getElementById('clickSound');
const ss = document.getElementById('ss');
function playClick(){ if(ss && ss.checked){ try{ clickSound.currentTime=0 }catch{} clickSound.play().catch(()=>{}); } }



const help = document.getElementById("key-help");

function showKeyHelp(){
  help.classList.add("show");
  setTimeout(()=>help.classList.remove("show"),3000);
}

window.onload = () => {
  help.classList.add("show");
  setTimeout(() => help.classList.remove("show"), 5000);
};

/* --- Your full game logic remains exactly the same --- */
/* (I am not removing anything) */

/* Your entire JS block remains unchanged below… */

document.addEventListener("keydown", function(e){


  if(e.key === "s" || e.key === "S"){
    playClick();
    setTimeout(function(){ openset()},150)
   }

  if(e.key === "c" || e.key === "C"){
    playClick()
    setTimeout(function(){closeset()},150) 
  }
  if(e.key === "d"){

   
    document.getElementById('difficulty')?.showPicker();
  }
  if(e.key === "Enter"){

    setTimeout(function(){changePage()},150) 
  }
  
});



  
</script>
</body>
</html>