<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Memory Game</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:Arial,Helvetica,sans-serif}
body{
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  background:url(./neon.jpg) center/cover no-repeat;
  overflow:auto
}

/* key-help */
#key-help{
  position:fixed;
  top:12px;
  left:50%;
  transform:translateX(-50%) translateY(-8px);
  background:rgba(0,0,0,.78);
  color:#fff;
  padding:8px 12px;
  border-radius:8px;
  font-size:13px;
  text-align:center;
  opacity:0;
  pointer-events:none;
  z-index:9999;
  transition:opacity .28s,transform .28s;
  max-width:92%}
#key-help.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* container - Desktop default */
.container{
  position:relative;
  width:min(92%,420px);
  max-width:350px;
  border:6px solid #000;
  border-radius:18px;
  padding:4.5rem 2rem 5rem;
  background:rgba(255,255,255,0.02);
  box-shadow:0 20px 36px rgba(0,0,0,.25)}

/* left key button + right settings */
.key-btn,.settings{
  position:absolute;
  top:14px;
  width:48px;
  height:48px;
  border:3px solid #000;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  color:#fff}
.key-btn{
  left:14px;
  background: linear-gradient(45deg, #660e0e, #0c154b);
  font-size:18px;z-index:11}
.settings{right:14px;background:linear-gradient(45deg,#6d1313,transparent);font-size:22px;z-index:10}

/* heading & controls */
h1{
  text-align:center;
  margin-bottom:4.8rem;
  padding:14px 20px;
  border-radius:10px;
  background:linear-gradient(197deg,#130553,#5a1e1e);
  color:#d53030;
  font-weight:800;
  font-size:clamp(20px,4vw,32px)}
.controls{
  display:flex;
  flex-direction:column;
  gap:14px;
  align-items:center}
button,select{
  width:100%;
  max-width:250px;
  padding:12px 18px;
  border-radius:10px;
  border:3px solid #000;
  font-weight:800;
  cursor:pointer}
button{background:#000;color:#ff3333;font-size:16px}button:hover{background:#111}
select{background:linear-gradient(45deg,#18197b,transparent);font-size:14px;padding-right:40px}

/* popup - MODIFIED: Changed background to red and black theme, added border, styled heading and labels */
#setting-popup{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);align-items:center;justify-content:center;z-index:1000}
#setting-popup .box{background:linear-gradient(197deg,#130553,#5a1e1e);padding:20px;border-radius:10px;border:3px solid #000;text-align:center;max-width:90%;width:300px}
#setting-popup .box h3{color:#d53030;margin-bottom:16px;font-size:22px}
#setting-popup .box label{color:#fff;font-size:15px;display:block;margin-bottom:12px}
#setting-popup .box input[type="checkbox"]{margin-right:8px;cursor:pointer}

/* ADDED: Error message styling for difficulty selection warning */
#error-msg{display:none;margin-top:16px;text-align:center}
#error-msg .icon{font-size:48px;color:#ff3333;margin-bottom:8px}
#error-msg .text{color:#ff3333;font-weight:700;font-size:15px}

/* Mobile Responsive Styles */
/* 320px - Small Mobile */
@media (max-width: 374px) {
  body {
    padding: 0;
    align-items: stretch;
  }
  
  .container {
    width: 100%;
    max-width: 100%;
    height: 100vh;
    min-height: 100vh;
    border-radius: 0;
    border: none;
    padding: 5rem 1.5rem 3rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  
  .key-btn, .settings {
    width: 40px;
    height: 40px;
    top: 10px;
    font-size: 16px;
  }
  
  .key-btn {
    left: 10px;
  }
  
  .settings {
    right: 10px;
  }
  
  h1 {
    font-size: 24px;
    margin-bottom: 3rem;
    padding: 12px 16px;
  }
  
  button, select {
    padding: 14px 16px;
    font-size: 15px;
  }
  
  #key-help {
    font-size: 11px;
    padding: 6px 10px;
  }
}

/* 375px - Medium Mobile */
@media (min-width: 375px) and (max-width: 424px) {
  body {
    padding: 0;
    align-items: stretch;
  }
  
  .container {
    width: 100%;
    max-width: 100%;
    height: 100vh;
    min-height: 100vh;
    border-radius: 0;
    border: none;
    padding: 5rem 2rem 3rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  
  .key-btn, .settings {
    width: 44px;
    height: 44px;
    top: 12px;
  }
  
  .key-btn {
    left: 12px;
  }
  
  .settings {
    right: 12px;
  }
  
  h1 {
    font-size: 26px;
    margin-bottom: 3.5rem;
  }
  
  button, select {
    padding: 14px 18px;
  }
}

/* 425px - Large Mobile */
@media (min-width: 425px) and (max-width: 767px) {
  body {
    padding: 0;
    align-items: stretch;
  }
  
  .container {
    width: 100%;
    max-width: 100%;
    height: 100vh;
    min-height: 100vh;
    border-radius: 0;
    border: none;
    padding: 5rem 2rem 3rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  
  h1 {
    font-size: 28px;
    margin-bottom: 4rem;
  }
}

/* Tablet and larger - Keep desktop styling */
@media (min-width: 768px) {
  /* Desktop styles already applied above */
}

</style>
</head>
<body>

<!-- key bindings help -->
<div id="key-help">
  <strong>KEY BINDINGS</strong>
  <div>S → Open Settings • C → Close Settings</div>
  <div>D → Open Difficulty • ENTER → Start Game</div>
</div>

<div class="container">
  <button class="key-btn" onclick="showKeyHelp()">⌨</button>
  <button class="settings" onclick="openset();playClick()">⚙</button>

  <div id="setting-popup">
    <div class="box">
      <h3>Settings</h3>
      <label><input id="ss" type="checkbox"> Sound</label>
      <label><input id="music-checkbox" type="checkbox"> Music</label>
      <button onclick="closeset();playClick()">CLOSE</button>
    </div>
  </div>

  <h1>Memory Game</h1>

  <div class="controls">
    <button onclick="changePage();playClick()">Start Game</button>
    <select id="difficulty" onchange="playClick()">
      <option value="">Select your difficulty</option>
      <option value="Easy">Easy</option>
      <option value="Medium">Medium</option>
      <option value="Hard">Hard</option>
    </select>
    <!-- ADDED: Error message div with exclamation icon and text -->
    <!-- MODIFIED: Changed warning triangle emoji to circled exclamation mark -->
    <div id="error-msg">
      <div class="icon">❗</div>
      <div class="text">Please select your difficulty</div>
    </div>
  </div>
</div>

<audio id="bg-music" loop><source src="./back.mp3" type="audio/mpeg"></audio>
<audio id="clickSound"><source src="./click.mp3" type="audio/mpeg"></audio>

<script>
  // change page
  function changePage(){
  playClick();
  setTimeout(()=> {
    const diff = document.getElementById('difficulty').value;
    if(diff==""){ 
      const errorMsg = document.getElementById('error-msg');
      errorMsg.style.display = 'block';
      setTimeout(() => {
        errorMsg.style.display = 'none';
      }, 3000);
      return; 
    }
    if(diff==='Easy') location.href='test1.html';
    else if(diff==='Medium') location.href='test3.html';
    else if(diff==='Hard') location.href='test4.html';
  },350);
}

function openset(){ document.getElementById('setting-popup').style.display='flex'; }
function closeset(){ document.getElementById('setting-popup').style.display='none'; }

/* -----------------------------------------------------
   SOUND SYSTEM
   ----------------------------------------------------- */

let music = document.getElementById("bg-music");
let musicCheckbox = document.getElementById("music-checkbox");

musicCheckbox.addEventListener('change', function(){
  if (musicCheckbox.checked) {
    music.play();
  } else {
    music.pause();
  
  }

})
const clickSound =document.getElementById("clickSound")
const ss = document.getElementById("ss")
function playClick(){
  if(ss.checked){
    clickSound.play()
  }
  else { 
    clickSound.pause()
  }
}


//key binding show popup
const help = document.getElementById("key-help");

function showKeyHelp(){
  help.classList.add("show");
  setTimeout(()=>help.classList.remove("show"),3000);
}

window.onload = () => {
  help.classList.add("show");
  setTimeout(() => help.classList.remove("show"), 5000);
};

//key Bindings
document.addEventListener("keydown", function(e){


  if(e.key === "s" || e.key === "S"){
    playClick();
    setTimeout(function(){ openset()},150)
   }

  if(e.key === "c" || e.key === "C"){
    playClick()
    setTimeout(function(){closeset()},150) 
  }
  if(e.key === "d" || e.key ==="D"){

   
    document.getElementById('difficulty')?.showPicker();
  }
  if(e.key === "Enter"){

    setTimeout(function(){changePage()},150) 
  }
  
});



  
</script>
</body>
</html>
